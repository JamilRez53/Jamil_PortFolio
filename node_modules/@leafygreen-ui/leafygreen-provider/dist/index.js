!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("prop-types"),require("@leafygreen-ui/lib"),require("@leafygreen-ui/hooks")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@leafygreen-ui/lib","@leafygreen-ui/hooks"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/leafygreen-provider"]={},e.React,e.PropTypes,e["@leafygreen-ui/lib"],e["@leafygreen-ui/hooks"])}(this,(function(e,r,t,o,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(r),u=a(t),i=r.createContext({contextDarkMode:!1,setDarkMode:function(){}}),d=function(){return r.useContext(i)};function p(e){var r=e.children,t=e.contextDarkMode,o=e.setDarkMode;return l.default.createElement(i.Provider,{value:{contextDarkMode:t,setDarkMode:o}},r)}function c(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,l,u=[],i=!0,d=!1;try{if(a=(t=t.call(e)).next,0===r);else for(;!(i=(o=a.call(t)).done)&&(u.push(o.value),u.length!==r);i=!0);}catch(e){d=!0,n=e}finally{try{if(!i&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw n}}return u}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){r>e.length&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}p.displayName="DarkModeProvider",p.propTypes={children:u.default.node,contextDarkMode:u.default.bool};var v=["children"],y=r.createContext({forceUseTopLayer:!1}),b=function(){return r.useContext(y)},m=function(e){var r=e.children,t=c(e,v);return l.default.createElement(y.Provider,{value:t},r)};m.displayName="MigrationProvider",m.propTypes={children:u.default.node};var P={popover:{portalContainer:void 0,scrollContainer:void 0}},h=r.createContext(P);function C(){return r.useContext(h).popover}function x(e){var r=e.popover,t=void 0===r?P.popover:r,o=e.children;return l.default.createElement(h.Provider,{value:{popover:t}},o)}var g=r.createContext(14);function M(){return r.useContext(g)}function k(e){var r=e.children,t=e.baseFontSize,o=void 0===t?14:t;return l.default.createElement(g.Provider,{value:o},r)}k.displayName="TypographyProvider",k.propTypes={children:u.default.node,baseFontSize:u.default.number};var T={usingKeyboard:!0,setUsingKeyboard:function(){}},E=r.createContext(T),O={tab:9,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40};function D(e){var t=e.children,o=f(r.useState(T.usingKeyboard),2),a=o[0],u=o[1];n.useEventListener("mousedown",(function(){return u(!1)}),{enabled:a}),n.useEventListener("keydown",(function(e){var r=e.keyCode;Object.values(O).includes(r)&&u(!0)}),{enabled:!a});var i=r.useMemo((function(){return{usingKeyboard:a,setUsingKeyboard:u}}),[a]);return l.default.createElement(E.Provider,{value:i},t)}function S(e){var t=e.children,o=e.baseFontSize,n=e.popoverPortalContainer,a=e.darkMode,u=e.forceUseTopLayer,i=void 0!==u&&u,c=d().contextDarkMode,s=f(r.useState(null!=a?a:c),2),v=s[0],y=s[1];r.useEffect((function(){y(null!=a?a:c)}),[a,c]);var P=M(),h=null!=o?o:P,g=C(),T=null!=n?n:g,E=b(),O=i||E.forceUseTopLayer;return l.default.createElement(D,null,l.default.createElement(x,{popover:T},l.default.createElement(k,{baseFontSize:h},l.default.createElement(p,{contextDarkMode:v,setDarkMode:y},l.default.createElement(m,{forceUseTopLayer:O},t)))))}D.displayName="UsingKeyboardProvider",D.propTypes={children:u.default.node},S.displayName="LeafyGreenProvider",S.propTypes={popoverPortalContainer:u.default.shape({popover:u.default.shape({portalContainer:u.default.elementType,scrollContainer:u.default.elementType})}),baseFontSize:u.default.oneOf([14,16]),darkMode:u.default.bool};var w=r.createContext({isPopoverOpen:!1,setIsPopoverOpen:function(){}}),j=function(e){var t=e.children,o=f(r.useState(!1),2),n=o[0],a=o[1],u=r.useMemo((function(){return{isPopoverOpen:n,setIsPopoverOpen:a}}),[n]);return l.default.createElement(w.Provider,{value:u},t)};j.displayName="PopoverProvider",j.propTypes={children:u.default.node};var A=["children"],U=r.createContext({}),L=function(e){var r=e.children,t=c(e,A),o=C(),n={portalContainer:t.portalContainer||o.portalContainer,scrollContainer:t.scrollContainer||o.scrollContainer};return l.default.createElement(U.Provider,{value:t},l.default.createElement(x,{popover:n},r))};L.displayName="PopoverPropsProvider",L.propTypes={children:u.default.node};e.PopoverContext=w,e.PopoverPropsContext=U,e.PopoverPropsProvider=L,e.PopoverProvider=j,e.PortalContextProvider=x,e.RenderMode={Inline:"inline",Portal:"portal",TopLayer:"top-layer"},e.default=S,e.useBaseFontSize=M,e.useDarkMode=function(e){var r,t=d(),n=t.contextDarkMode,a=t.setDarkMode,l=null!==(r=null!=e?e:n)&&void 0!==r&&r;return{darkMode:l,theme:o.getTheme(l),setDarkMode:a}},e.useDarkModeContext=d,e.useMigrationContext=b,e.usePopoverContext=function(){return r.useContext(w)},e.usePopoverPortalContainer=C,e.usePopoverPropsContext=function(){return r.useContext(U)},e.useUsingKeyboardContext=function(){return r.useContext(E)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
